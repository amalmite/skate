{% extends layout_path %}

{% load static %}
{% load i18n %}

{% block title %}Profile {% endblock %}

{% block vendor_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'vendor/libs/datatables-bs5/datatables.bootstrap5.css' %}" />
<link rel="stylesheet" href="{% static 'vendor/libs/datatables-responsive-bs5/responsive.bootstrap5.css' %}" />
<link rel="stylesheet" href="{% static 'vendor/libs/datatables-checkboxes-jquery/datatables.checkboxes.css' %}" />
{% endblock vendor_css %}

{% block vendor_js %}
{{ block.super }}
<script src="{% static 'vendor/libs/datatables-bs5/datatables-bootstrap5.js' %}"></script>
{% endblock vendor_js %}

{% block page_css %}
{{ block.super }}
<link rel="stylesheet" href="{% static 'vendor/css/pages/page-profile.css' %}" />
{% endblock page_css %}

{% block page_js %}
{{ block.super }}
<script>
  var toastElements = document.querySelectorAll('.toast');

if (toastElements) {
toastElements.forEach(function (element) {
  var toast = new bootstrap.Toast(element);
  toast.show();
});
}

</script>
<script src="{% static 'js/app-user-view-account.js' %}"></script>
{% endblock page_js %}

{% block content %}
{% if messages %}
<div class="toast-container end-0 m-1 me-4">
  {% for message in messages %}
  <div class="toast {% if message.tags == 'success' %}bg-success{% elif message.tags == 'error' %}bg-danger{% else %}bg-warning{% endif %}" role="alert" aria-live="assertive" aria-atomic="true" data-autohide="true" data-bs-delay="2000">
    <div class="toast-body text-center text-white">
      {{ message }}
    </div>
  </div>
  {% endfor %}
</div>
{% endif %}

<h4 class="py-3 mb-4">
  <span class="text-muted fw-light">{% translate "Profile" %} /</span> {% translate "Profile" %}
</h4>


<!-- Header -->
<div class="row">
  <div class="col-12">
    <div class="card mb-4">
      <div class="user-profile-header-banner">
        <img src="{% static 'img/pages/profile-banner.png' %}" alt="Banner image" class="rounded-top">
      </div>
      <div class="user-profile-header d-flex flex-column flex-sm-row text-sm-start text-center mb-4">
        <div class="flex-shrink-0 mt-n2 mx-sm-0 mx-auto">
          <img src="{% static 'img/avatars/1.png' %}" alt="user image" class="d-block h-auto ms-0 ms-sm-4 rounded user-profile-img">
        </div>
        <div class="flex-grow-1 mt-3 mt-sm-5">
          <div class="d-flex align-items-md-end align-items-sm-start align-items-center justify-content-md-between justify-content-start mx-4 flex-md-row flex-column gap-4">
            <div class="user-profile-info">
              <h4>{{get_profile.first_name}} {{get_profile.last_name}}</h4>
              <ul class="list-inline mb-0 d-flex align-items-center flex-wrap justify-content-sm-start justify-content-center gap-2">
                <li class="list-inline-item">
                  <i class='mdi mdi-invert-colors me-1 mdi-20px'></i><span class="fw-medium">{{get_profile.username}}</span>
                </li>
                <li class="list-inline-item">
                  <i class='mdi mdi-map-marker-outline me-1 mdi-20px'></i><span class="fw-medium">{{get_profile.email}}</span>
                </li>
                <li class="list-inline-item">
                  <i class='mdi mdi-calendar-blank-outline me-1 mdi-20px'></i><span class="fw-medium"> {{get_profile.last_login}}</span></li>
              </ul>
            </div>
          <a href="{% url 'admin_update' %}" class="btn btn-primary">
              <i class='mdi mdi-account-check-outline me-1'></i>Edit
            </a>

            <a href="{% url 'company_create' %}" class="btn btn-primary">
              <i class='mdi mdi-account-check-outline me-1'></i>Add Company
            </a>


          
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<!--/ Header -->

<!-- Navbar pills -->
<!-- <div class="row">
  <div class="col-md-12">
    <ul class="nav nav-pills flex-column flex-sm-row mb-4">
      <li class="nav-item"><a class="nav-link active" href="javascript:void(0);"><i class='mdi mdi-account-outline me-1 mdi-20px'></i>Profile</a></li>
      <li class="nav-item"><a class="nav-link" href=""><i class='mdi mdi-account-multiple-outline me-1 mdi-20px'></i>Teams</a></li>
      <li class="nav-item"><a class="nav-link" href=""><i class='mdi mdi-view-grid-outline me-1 mdi-20px'></i>Projects</a></li>
      <li class="nav-item"><a class="nav-link" href=""><i class='mdi mdi-link me-1 mdi-20px'></i>Connections</a></li>
    </ul>
  </div>
</div> -->
<!--/ Navbar pills -->

<!-- User Profile Content -->
<div class="row">
  <div class="col-xl-4 col-lg-5 col-md-5">
    <!-- About User -->
    <div class="card mb-4">
      <div class="card-body">
        <small class="card-text text-uppercase">About</small>
        <ul class="list-unstyled my-3 py-1">
            <li class="d-flex align-items-center mb-3"><i class="mdi mdi-account-outline mdi-24px"></i><span class="fw-medium mx-2">Full Name:</span> <span>{{ get_profile.first_name }} {{ get_profile.last_name }}</span></li>
            <!-- <li class="d-flex align-items-center mb-3"><i class="mdi mdi-check mdi-24px"></i><span class="fw-medium mx-2">Status:</span> <span>Active</span></li> -->
            <li class="d-flex align-items-center mb-3"><i class="mdi mdi-star-outline mdi-24px"></i><span class="fw-medium mx-2">Role:</span> <span>
                {% if get_profile.is_user %}
                    User
                {% elif get_profile.is_employee %}
                    Employee
                {% elif get_profile.is_admin %}
                    Admin
                {% else %}
                    Undefined Role
                {% endif %}
            </span></li>
            <!-- <li class="d-flex align-items-center mb-3"><i class="mdi mdi-flag-outline mdi-24px"></i><span class="fw-medium mx-2">Country:</span> <span>{{ get_profile.email }}</span></li> -->
            <!-- <li class="d-flex align-items-center mb-3"><i class="mdi mdi-translate mdi-24px"></i><span class="fw-medium mx-2">Languages:</span> <span>{{ get_profile.phone_number }}</span></li> -->
        </ul>
        
        <small class="card-text text-uppercase">Contacts</small>
        <ul class="list-unstyled my-3 py-1">
          <li class="d-flex align-items-center mb-3"><i class="mdi mdi-phone-outline mdi-24px"></i><span class="fw-medium mx-2">Contact:</span> <span>{{get_profile.phone_number}}</span></li>
          <li class="d-flex align-items-center mb-3"><i class="mdi mdi-message-outline mdi-24px"></i><span class="fw-medium mx-2">Email:</span> <span>{{get_profile.email}}</span></li>
          <!-- <li class="d-flex align-items-center mb-3"><i class="mdi mdi-email-outline mdi-24px"></i><span class="fw-medium mx-2">Email:</span> <span>john.doe@example.com</span></li> -->
        </ul>
        <!-- <small class="card-text text-uppercase">Teams</small> -->
        <!-- <ul class="list-unstyled mb-0 mt-3 pt-1">
          <li class="d-flex align-items-center mb-3"><i class="mdi mdi-github mdi-24px text-secondary me-2"></i>
            <div class="d-flex flex-wrap"><span class="fw-medium me-2">Backend Developer</span><span>(126 Members)</span></div>
          </li>
          <li class="d-flex align-items-center"><i class="mdi mdi-react mdi-24px text-info me-2"></i>
            <div class="d-flex flex-wrap"><span class="fw-medium me-2">React Developer</span><span>(98 Members)</span></div>
          </li>
        </ul> -->
      </div>
    </div>
    <!--/ About User -->
    <!-- Profile Overview -->
    <!-- <div class="card mb-4">
      <div class="card-body">
        <small class="card-text text-uppercase">Overview</small>
        <ul class="list-unstyled mb-0 mt-3 pt-1">
          <li class="d-flex align-items-center mb-3"><i class="mdi mdi-check mdi-24px"></i><span class="fw-medium mx-2">Task Compiled:</span> <span>13.5k</span></li>
          <li class="d-flex align-items-center mb-3"><i class="mdi mdi-account-outline mdi-24px"></i><span class="fw-medium mx-2">Projects Compiled:</span> <span>146</span></li>
          <li class="d-flex align-items-center"><i class="mdi mdi-view-grid-outline mdi-24px"></i><span class="fw-medium mx-2">Connections:</span> <span>897</span></li>
        </ul>
      </div>
    </div> -->
    <!--/ Profile Overview -->
  </div>
  <div class="col-xl-8 col-lg-7 col-md-7">
<div class="row text-nowrap">
    {% for company in get_company %}
    <div class="col-md-6 mb-4">
            <a href="{% url 'company_update' id=company.id %}">
            <div class="card h-100">
                <div class="card-body d-flex align-items-center">
                    <div>
                        <img class="rounded p-1" src="{{ company.logo.url }}" height="100" width="100" alt="User avatar" />
                    </div>
                    <div>
                        <div class="card-info m-2">
                            <h4 class="card-title mb-3">{{ company.name }}</h4>
                            <div>
                              
                                <p class="mb-0">Phone: {{ company.mobile_number }}</p>
                                <p class="mb-0">Email: {{ company.email }}</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </a>
        </div>
        {% endfor %}
    </div>

</div>

{% endblock %}
